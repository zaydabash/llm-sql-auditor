# SQL Auditor Configuration

# ============================================================================
# Core Settings
# ============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
SQLAUDITOR_LOG_LEVEL=INFO

# SQL dialect (postgres, sqlite)
DEFAULT_DIALECT=postgres

# ============================================================================
# LLM Configuration (Optional)
# ============================================================================

# OpenAI API key for LLM-powered explanations and optimizations
# Get your key from: https://platform.openai.com/api-keys
# Leave empty to disable LLM features (static analysis still works)
OPENAI_API_KEY=

# LLM model to use (gpt-4, gpt-4-turbo-preview, gpt-3.5-turbo)
SQLAUDITOR_LLM_MODEL=gpt-4-turbo-preview

# LLM temperature (0.0 = deterministic, 1.0 = creative)
SQLAUDITOR_LLM_TEMPERATURE=0.1

# Maximum tokens for LLM responses
SQLAUDITOR_LLM_MAX_TOKENS=2000

# ============================================================================
# Security & Authentication
# ============================================================================

# Require API key authentication (true/false)
SQLAUDITOR_REQUIRE_AUTH=false

# API key for authentication (generate with: python -c "import secrets; print(secrets.token_urlsafe(32))")
SQLAUDITOR_API_KEY=

# CORS allowed origins (comma-separated)
SQLAUDITOR_CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Rate limiting (requests per minute)
SQLAUDITOR_RATE_LIMIT=10

# ============================================================================
# Input Validation
# ============================================================================

# Maximum schema DDL length (characters)
SQLAUDITOR_MAX_SCHEMA_LENGTH=50000

# Maximum query length (characters)
SQLAUDITOR_MAX_QUERY_LENGTH=10000

# ============================================================================
# Database Connections (Optional - for EXPLAIN integration)
# ============================================================================

# Enable real EXPLAIN plan execution (true/false)
SQLAUDITOR_ENABLE_EXPLAIN=false

# Demo SQLite database path
SQLAUDITOR_DEMO_DB=./demo.db

# PostgreSQL connection string (optional)
# SQLAUDITOR_POSTGRES_CONNECTION_STRING=postgresql://user:password@localhost:5432/dbname

# SQLite connection string (optional)
# SQLAUDITOR_SQLITE_CONNECTION_STRING=/path/to/database.db

# ============================================================================
# Performance & Monitoring
# ============================================================================

# Enable performance metrics collection (true/false)
SQLAUDITOR_ENABLE_METRICS=true

# Enable audit history persistence (true/false)
SQLAUDITOR_ENABLE_PERSISTENCE=false

# Audit history database path (SQLite)
SQLAUDITOR_AUDIT_DB=./audit_history.db
